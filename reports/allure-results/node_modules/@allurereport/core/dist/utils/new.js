const NON_SIGNIFICANT_HISTORY_STATUSES = ["unknown", "skipped"];
export const isNew = (history = []) => history.length === 0;
const hasSignificantStatus = (htr) => !NON_SIGNIFICANT_HISTORY_STATUSES.includes(htr.status);
export const getLastSignificantStatus = (history = []) => {
    const significantHtr = history.find(hasSignificantStatus);
    return significantHtr?.status;
};
export const getStatusTransition = (tr, history = []) => {
    if (isNew(history)) {
        return "new";
    }
    const lastStatus = getLastSignificantStatus(history);
    if (lastStatus !== tr.status) {
        switch (tr.status) {
            case "passed":
                return "fixed";
            case "failed":
                return "regressed";
            case "broken":
                return "malfunctioned";
        }
    }
};
