export const getTestResultsStats = (trs, filter = () => true) => {
    const trsToProcess = trs.filter(filter);
    return trsToProcess.reduce((acc, tr) => {
        if (filter && !filter(tr)) {
            return acc;
        }
        if (tr.retries && tr.retries?.length > 0) {
            acc.retries = (acc.retries ?? 0) + 1;
        }
        if (tr.flaky) {
            acc.flaky = (acc.flaky ?? 0) + 1;
        }
        if (tr.transition === "new") {
            acc.new = (acc.new ?? 0) + 1;
        }
        if (!acc[tr.status]) {
            acc[tr.status] = 0;
        }
        acc[tr.status]++;
        return acc;
    }, { total: trsToProcess.length });
};
